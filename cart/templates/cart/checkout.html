{% extends 'core/base.html' %}

{% block title %}Realizar pedido{% endblock %}

{% block content%}
{% load socialaccount %}
<header class="max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl mx-auto overflow-hidden max-[1300px]:-mt-6 -mt-2 mb-5">
    

    <div class="w-full hidden md:flex justify-between relative text-gray-800 mt-8">
        <div class="bg-white pr-2 z-[3] flex space-x-2">
            <div class="z-[3] rounded-full border border-gray-300 flex p-4 relative bg-green-700">
                <div class="absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white">
                    1
                 </div>
            </div>
            <div class="my-auto text-green-700"> Carrito </div>
        </div>
        <div class="bg-white px-2 z-[3] flex space-x-2">
            <div class="z-[3] rounded-full border border-gray-300 flex p-4 relative bg-green-700">
                <div class="absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] text-white">
                    2
                 </div>
            </div>
            <div class="my-auto text-green-700"> Pago y envío </div>
        </div>
        <div class="bg-white pl-2 z-[3] flex space-x-2">
            <div class="z-[3] rounded-full border border-gray-300 flex p-4 relative bg-white">
                <div class="absolute top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%]">
                    3
                 </div>
            </div>
            <div class="my-auto"> Confirmación </div>
        </div>
        <hr class="w-full absolute py-[0.5px] top-[50%] bg-gray-300 z-[0]">
    </div>

</header>

<div class="max-w-screen-md lg:max-w-screen-lg xl:max-w-screen-xl mx-auto xl:px-0 px-4 py-5 flex flex-wrap items-start">
    {% csrf_token %}
    <form id="FormInfo" class="products w-full lg:w-[60%]" method="post">
        <div class="w-full">
            <div class="mb-6 rounded-xl border border-gray-600">
                
                {% if not request.user.is_authenticated %}
                <div class="text-base w-full space-y-6 p-6">
                    <div>¿Ya estás registrado en Esport Vivac?</div>
                    <div class="flex w-full space-x-[20px] justify-center">
                        <a  
                            class="mr-4 w-[49%] inline-block py-3 bg-green-700 text-white relative cursor-pointer border flex"
                            onclick="menu_login_mobile(1)"
                            >
                            <div class="m-auto flex space-x-2">
                                <div>
                                    <svg class="h-6 w-6"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="1.5"  stroke-linecap="round"  stroke-linejoin="round">  <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />  <circle cx="12" cy="7" r="4" /></svg>
                                </div>
                                <div class="">Iniciar sesión</div>
                            </div>
                        </a>
                        <a  
                            class="mr-4 w-[49%] inline-block py-3 bg-white text-black relative cursor-pointer border flex"
                            href="{% provider_login_url 'google' %}?next={{request.path}}"
                            >
                            <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 48 48" class="h-6 w-6 absolute top-[50%] left-[15px] -translate-y-[50%]"><path fill="#fbc02d" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12	s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20	s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"/><path fill="#e53935" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039	l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"/><path fill="#4caf50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"/><path fill="#1565c0" d="M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"/></svg>
                            <p class="m-auto">Iniciar sesión con Google</p>
                        </a>
                    </div>
                </div>
                <hr class="border border-gray-300">
                <div class="my-6 px-6">¿Es tu primera vez en Esports Vivac?</div>
                {% endif %}

                <div class="Inputs px-6 mb-6 flex space-x-[20px] text-md select-none">
                    <div class="space-y-6 w-[49%]">
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <input name="first_name" type="text" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Nombre" value="{{request.user.first_name}}">
                            </div>
                        </div>
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <input name="last_name" type="text" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Apellidos" value="{{request.user.last_name}}">
                            </div>
                        </div>
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <input name="email" type="text" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Correo electrónico" value="{{request.user.email}}">
                            </div>
                        </div>
                        <div>
                            <div class="border border-gray-400 hover:border-black relative">
                                <input id="password-input" name="pasword1" type="password" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Contraseña">
                                <i id="eye" class="absolute bg-white top-[50%] right-0 -translate-y-[50%] -translate-x-[50%] cursor-pointer">
                                    <svg id="pwopen" class="h-5 w-5 mx-1 hidden"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                    </svg>
                                    <svg id="pwclose" class="h-5 w-5 mx-1"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>
                                    </svg>
                                </i>
                            </div>
                        </div>
                        <div>
                            <div class="border border-gray-400 hover:border-black relative">
                                <input id="password-input2" name="pasword2" type="password" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Confirma tu contraseña">
                                <i id="eye2" class="absolute bg-white top-[50%] right-0 -translate-y-[50%] -translate-x-[50%] cursor-pointer">
                                    <svg id="pwopen2" class="h-5 w-5 mx-1 hidden"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
                                    </svg>
                                    <svg id="pwclose2" class="h-5 w-5 mx-1"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/>
                                    </svg>
                                </i>
                            </div>
                        </div>
                    </div>
                    <div class="space-y-6 w-[49%]">
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <input name="phone" type="text" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Teléfono">
                            </div>
                        </div>
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <input name="address" type="text" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Calle">
                            </div>
                        </div>
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <input name="city" type="text" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Ciudad">
                            </div>
                        </div>
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <input name="zipcode" type="text" class="w-full p-3 placeholder-gray-500 hover:placeholder-black" placeholder="Código Postal">
                            </div>
                        </div>
                        
                        <div>
                            <div class="border border-gray-400 hover:border-black">
                                <select name="provincia" class="w-full p-3 text-black" placeholder="Provincia">
                                    <option disabled selected value="Null">Provincia</option>
                                    <option disabled value="Null">----------</option>
                                    <option value="A Coruña">A Coruña</option>
                                    <option value="Álava">Álava</option>
                                    <option value="Albacete">Albacete</option>
                                    <option value="Alicante">Alicante</option>
                                    <option value="Almería">Almería</option>
                                    <option value="Asturias">Asturias</option>
                                    <option value="Ávila">Ávila</option>
                                    <option value="Badajoz">Badajoz</option>
                                    <option value="Baleares">Baleares</option>
                                    <option value="Barcelona">Barcelona</option>
                                    <option value="Burgos">Burgos</option>
                                    <option value="Cáceres">Cáceres</option>
                                    <option value="Cádiz">Cádiz</option>
                                    <option value="Cantabria">Cantabria</option>
                                    <option value="Castellón">Castellón</option>
                                    <option value="Ciudad Real">Ciudad Real</option>
                                    <option value="Córdoba">Córdoba</option>
                                    <option value="Cuenca">Cuenca</option>
                                    <option value="Girona">Girona</option>
                                    <option value="Granada">Granada</option>
                                    <option value="Guadalajara">Guadalajara</option>
                                    <option value="Gipuzkoa">Gipuzkoa</option>
                                    <option value="Huelva">Huelva</option>
                                    <option value="Huesca">Huesca</option>
                                    <option value="Jaén">Jaén</option>
                                    <option value="La Rioja">La Rioja</option>
                                    <option value="Las Palmas">Las Palmas</option>
                                    <option value="León">León</option>
                                    <option value="Lérida">Lérida</option>
                                    <option value="Lugo">Lugo</option>
                                    <option value="Madrid">Madrid</option>
                                    <option value="Málaga">Málaga</option>
                                    <option value="Murcia">Murcia</option>
                                    <option value="Navarra">Navarra</option>
                                    <option value="Ourense">Ourense</option>
                                    <option value="Palencia">Palencia</option>
                                    <option value="Pontevedra">Pontevedra</option>
                                    <option value="Salamanca">Salamanca</option>
                                    <option value="Segovia">Segovia</option>
                                    <option value="Sevilla">Sevilla</option>
                                    <option value="Soria">Soria</option>
                                    <option value="Tarragona">Tarragona</option>
                                    <option value="Santa Cruz de Tenerife">Santa Cruz de Tenerife</option>
                                    <option value="Teruel">Teruel</option>
                                    <option value="Toledo">Toledo</option>
                                    <option value="Valencia">Valencia</option>
                                    <option value="Valladolid">Valladolid</option>
                                    <option value="Vizcaya">Vizcaya</option>
                                    <option value="Zamora">Zamora</option>
                                    <option value="Zaragoza">Zaragoza</option>
                                </select>
                            </div>
                        </div>
                        
                    </div>
                </div>

                <div class="px-6 mt-14 mb-6">
                    <a onclick="buy2(event)" class="mr-4 w-[30%] inline-block py-3 text-white relative cursor-pointer border flex bg-black">
                        <p class="m-auto">Siguiente</p>
                    </a>
                </div>


            </div>

            <div class="border border-black rounded-xl p-3" id="errors">
            </div>

        </div>
        
    </form>

    <dev class="summary mx-auto w-full md:w-2/3 xl:w-1/4 p-6 bg-gray-100 rounded-xl mt-3">
        <h3 class="uppercase text-lg mb-5">Summary</h3>

        <div class="mb-6 flex justify-between">
            <span class="font-semibold">Total</span>
            <span>{{cart.get_total_cost}}€</span>

        </div>

        <button 
            onclick="buy(event)"
            class="inline-block  flex justify-center w-full py-2 bg-green-500 hover:bg-green-700 text-white"
        >
            Confirmar Checkout
        </button>
    </div>
</div>
{% endblock %}

{% block scripts %}
    {% include 'cart/partials/scripts_c.html' %}
{% endblock %}
